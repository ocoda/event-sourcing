## API Report File for "@ocoda/event-sourcing-dynamodb"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { AttributeValue } from '@aws-sdk/client-dynamodb';
import { CreateTableCommandInput } from '@aws-sdk/client-dynamodb';
import { DynamoDBClientConfig } from '@aws-sdk/client-dynamodb';
import { InstanceWrapper } from '@nestjs/core/injector/instance-wrapper';
import { Logger } from '@nestjs/common';
import { Type } from '@nestjs/common';

// Warning: (ae-forgotten-export) The symbol "EventStore" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export class DynamoDBEventStore extends EventStore<DynamoDBEventStoreConfig> {
    // Warning: (ae-forgotten-export) The symbol "EventEnvelope" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    appendEvents(stream: EventStream, aggregateVersion: number, events: IEvent[] | EventEnvelope[], pool?: IEventPool): Promise<EventEnvelope[]>;
    // (undocumented)
    connect(): Promise<void>;
    // (undocumented)
    disconnect(): Promise<void>;
    // Warning: (ae-forgotten-export) The symbol "IEventPool" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "IEventCollection" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    ensureCollection(pool?: IEventPool, config?: Pick<CreateTableCommandInput, 'BillingMode' | 'ProvisionedThroughput' | 'OnDemandThroughput'>): Promise<IEventCollection>;
    // Warning: (ae-forgotten-export) The symbol "IAllEventsFilter" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    getAllEnvelopes(filter: IAllEventsFilter): AsyncGenerator<EventEnvelope[]>;
    // (undocumented)
    getEnvelope(input: EventStream, version: number, pool?: IEventPool): Promise<EventEnvelope>;
    // (undocumented)
    getEnvelopes(input: EventStream, filter?: IEventFilter): AsyncGenerator<EventEnvelope[]>;
    // (undocumented)
    getEvent(input: EventStream, version: number, pool?: IEventPool): Promise<IEvent>;
    // Warning: (ae-forgotten-export) The symbol "EventStream" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "IEventFilter" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "IEvent" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    getEvents(input: EventStream, filter?: IEventFilter): AsyncGenerator<IEvent[]>;
    // (undocumented)
    hydrate<Fields extends (keyof DynamoEventEntity)[]>(entity: Record<string, AttributeValue>): Pick<DynamoEventEntity, Fields[number]>;
    // Warning: (ae-forgotten-export) The symbol "IEventCollectionFilter" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    listCollections(filter?: IEventCollectionFilter): AsyncGenerator<IEventCollection[]>;
}

// Warning: (ae-forgotten-export) The symbol "EventStoreConfig" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export interface DynamoDBEventStoreConfig extends EventStoreConfig, DynamoDBClientConfig {
    // (undocumented)
    driver: Type<DynamoDBEventStore>;
}

// Warning: (ae-forgotten-export) The symbol "SnapshotStore" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export class DynamoDBSnapshotStore extends SnapshotStore<DynamoDBSnapshotStoreConfig> {
    // Warning: (ae-forgotten-export) The symbol "SnapshotEnvelope" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    appendSnapshot<A extends AggregateRoot>(stream: SnapshotStream, aggregateVersion: number, snapshot: ISnapshot<A>, pool?: ISnapshotPool): Promise<SnapshotEnvelope<A>>;
    // (undocumented)
    connect(): Promise<void>;
    // (undocumented)
    disconnect(): Promise<void>;
    // Warning: (ae-forgotten-export) The symbol "ISnapshotPool" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "ISnapshotCollection" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    ensureCollection(pool?: ISnapshotPool, config?: Pick<CreateTableCommandInput, 'BillingMode' | 'ProvisionedThroughput' | 'OnDemandThroughput'>): Promise<ISnapshotCollection>;
    // (undocumented)
    getEnvelope<A extends AggregateRoot>(input: SnapshotStream, version: number, pool?: ISnapshotPool): Promise<SnapshotEnvelope<A>>;
    // (undocumented)
    getEnvelopes<A extends AggregateRoot>(input: SnapshotStream, filter?: ISnapshotFilter): AsyncGenerator<SnapshotEnvelope<A>[]>;
    // (undocumented)
    getLastEnvelope<A extends AggregateRoot>(stream: SnapshotStream, pool?: ISnapshotPool): Promise<SnapshotEnvelope<A> | void>;
    // Warning: (ae-forgotten-export) The symbol "ILatestSnapshotFilter" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    getLastEnvelopesForAggregate<A extends AggregateRoot>(aggregate: Type<A>, filter?: ILatestSnapshotFilter): AsyncGenerator<SnapshotEnvelope<A>[]>;
    // (undocumented)
    getLastSnapshot<A extends AggregateRoot>(input: SnapshotStream, pool?: ISnapshotPool): Promise<ISnapshot<A> | void>;
    // (undocumented)
    getLastSnapshots<A extends AggregateRoot>(streams: SnapshotStream[], pool?: ISnapshotPool): Promise<Map<SnapshotStream, ISnapshot<A>>>;
    // (undocumented)
    getManyLastSnapshotEnvelopes<A extends AggregateRoot>(streams: SnapshotStream[], pool?: ISnapshotPool): Promise<Map<SnapshotStream, SnapshotEnvelope<A>>>;
    // (undocumented)
    getSnapshot<A extends AggregateRoot>(input: SnapshotStream, version: number, pool?: ISnapshotPool): Promise<ISnapshot<A>>;
    // Warning: (ae-forgotten-export) The symbol "AggregateRoot" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "SnapshotStream" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "ISnapshotFilter" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "ISnapshot" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    getSnapshots<A extends AggregateRoot>(input: SnapshotStream, filter?: ISnapshotFilter): AsyncGenerator<ISnapshot<A>[]>;
    // (undocumented)
    hydrate<A extends AggregateRoot, Fields extends (keyof DynamoSnapshotEntity<A>)[]>(entity: Record<string, AttributeValue>): Pick<DynamoSnapshotEntity<A>, Fields[number]>;
    // Warning: (ae-forgotten-export) The symbol "ISnapshotCollectionFilter" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    listCollections(filter?: ISnapshotCollectionFilter): AsyncGenerator<ISnapshotCollection[]>;
}

// Warning: (ae-forgotten-export) The symbol "SnapshotStoreConfig" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export interface DynamoDBSnapshotStoreConfig extends SnapshotStoreConfig, DynamoDBClientConfig {
    // (undocumented)
    driver: Type<DynamoDBSnapshotStore>;
}

// @public (undocumented)
export interface DynamoEventEntity {
    // (undocumented)
    aggregateId: string;
    // (undocumented)
    causationId?: string;
    // (undocumented)
    correlationId?: string;
    // (undocumented)
    event: string;
    // (undocumented)
    eventId: string;
    // (undocumented)
    occurredOn: number;
    // (undocumented)
    payload: any;
    // (undocumented)
    streamId: string;
    // (undocumented)
    version: number;
}

// @public (undocumented)
export interface DynamoSnapshotEntity<A extends AggregateRoot> {
    // (undocumented)
    aggregateId: string;
    // (undocumented)
    aggregateName: string;
    // (undocumented)
    latest?: string;
    // (undocumented)
    payload: ISnapshot<A>;
    // (undocumented)
    registeredOn: number;
    // (undocumented)
    snapshotId: string;
    // (undocumented)
    streamId: string;
    // (undocumented)
    version: number;
}

// (No @packageDocumentation comment for this package)

```
